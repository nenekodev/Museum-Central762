<html>
<head>
	<link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.bootcss.com/animate.css/3.7.2/animate.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../css/base.css">

	<link rel="stylesheet" type="text/css" href="../css/day.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> 
	<link rel="stylesheet" type="text/css" href="../css/night.css" media="(prefers-color-scheme: dark)"> 
	
	<link rel="shortcut icon" href="../img/ico/favicon.ico"/>

	<meta charset="utf-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>
<div id="app" v-cloak>
	<nav id="nav" class="navbar fixed-top navbar-expand-lg">
		<div class="container" id="navcontain">
		<a href="../">
			<div class="d-flex" style="align-items:center;">
				<img class="logo d-inline-block" src="../img/ico/logo.png" style="height: 40px"><span class="d-md-inline me-1">·</span>
				<div class="logo d-inline-block space" style="min-width:100px">中原铁道<span class="d-inline d-md-none"><br></span>(数字)博物馆</div>
			</div>
		</a>
		
		<div style="justify-content:flex-end;">
		<div class="navbar-nav">
			<div class="btnbox nav-item">
				<a class="nav-link" href="../">基本陈列</a>
			</div>
			<div class="btnbox nav-item">
				<a class="nav-link" href="./research">收藏研究</a>
			</div>
			<div class="btnbox nav-item">
				<a class="nav-link" href="./souvenir">博物文创</a>
			</div>
			<!-- <div class="btnbox">
				<a class="nav-item nav-link" href="#">铺子</a>
			</div> -->
		</div>
		</div>
		</div>
	</nav>

	<div id="top" v-for="(meta,index) in meta" :key="index" class="jumbotron jumbotron-fluid mt-4 mb-5" :style="{backgroundImage:'url('+meta.hero+')'}">
	</div>

	<div class="container mb-5">
		<div class="row">
			<div class="col-lg-8 col-12 mt-5 d-none" id="NotFound">
				<h1 class="bold mt-5" style="font-size: 2.2rem">404 Not Found</h1>
				<a href="./../index.html" class="bold mt-5">〈 返回首页</a>
			</div>

			<div class="col-lg-8 col-12" v-for="(meta,index) in meta" :key="index">
				<h1 class="bold" style="font-size: 2.2rem" v-html="meta.title"></h1>
				<p v-html="meta.subtitle" class="grey"></p>
				<small v-html="meta.date" class="grey"></small>
				<div class="textcon mt-5">
					<div id="markdown"></div>
				</div>
				<br>
			</div>

			<div class="col-lg-4 col-12">
				<div id="foot">
					<div id="author" class="d-none">
						<h3 class="d-inline-block bold">关于作者</h3><h5 class="ms-2 subtext d-inline-block">Author</h5>
						<br>
						<div class="infocont mt-3" v-for="(info,index) in author" :key="index">
							<img :src='info.avatar'/>
							<div class="ms-3">
								<h5>{{info.name}}</h5>
								<h6 class="subtext grey">{{info.intro}}</h6>
							</div>
						</div>
						<br>
						<!-- <hr> -->
					</div>
					<div v-if="isExpand==true" class="mt-3">
						<h3 class="d-inline-block bold">延伸阅读</h3><h5 class="ms-2 subtext d-inline-block">Read More</h5>
						<div v-for="(article,index) in expand" :key="index" class="mt-2">
							<a :href="article.addr"><small class="grey">[{{index+1}}]</small><span> {{article.title}}</span></a>
						</div>
						<br>
						<!-- <hr> -->
					</div>
					<div class="mt-3">
						<h3 class="d-inline-block bold">联系我们</h3><h5 class="ms-2 subtext d-inline-block">Contact Us</h5>
						<p class="mt-2 mb-0">LJR交通美学研究所 · QQ群 <code>325616319</code></p>
						<p class="mt-2">投稿 · 联系请至 <code>LJRstudio@aliyun.com</code></p>
						<div class="center">
							<img class="mb-3 mt-5" src="../img/ico/10th.svg" style="height:58px;max-width: 100%;">
							<p class="mb-1"><small><span class="nowrap">© LJR / The Charm of Transport</span><span class="d-none d-md-inline me-3"></span>
								<span class="nowrap">© A Project by <a href="https://github.com/Toocheer">Toocheer ›</a> </span></small></p>
							<small><code>未经许可，禁止转载</code></small>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</body>

<script src="https://cdn.bootcdn.net/ajax/libs/vue/3.1.5/vue.global.prod.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
<script src="../js/stickUp.min.js"></script>
<script src="../js/utils.js"></script>
<script>
const app = Vue.createApp({
	data(){
		return{
			meta:[],
			isExpand:null,
			expand:[],
			author:[]
		}
	},
	mounted(){
		axios
		.get('../docs/exhibition/' + currentArti + '/meta.json')
		.then((response) => {
			this.meta = response.data.meta
			this.isExpand = response.data.isExpand
			this.expand = response.data.expand
			this.author = response.data.author
			document.title = response.data.pagetitle + ' / 中原铁道(数字)博物馆'
		})
		renderMarkdown('exhibition', currentArti);
	},
	updated(){
		stickSidebar();
	}
})

app.mount('#app');
</script>
</html>
