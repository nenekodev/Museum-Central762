<html lang="zh">
<head>
	<link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="./css/base.css">
	<link rel="stylesheet" type="text/css" href="./css/day.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> 
	<link rel="stylesheet" type="text/css" href="./css/night.css" media="(prefers-color-scheme: dark)"> 

	<link rel="shortcut icon" href="./img/ico/favicon.ico"/>

	<meta charset="utf-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>
<div id="app" v-cloak>
	<nav id="nav" class="navbar fixed-top navbar-expand-lg">
		<div class="container" id="navcontain">
		<a href="./">
			<div class="d-flex" style="align-items:center;">
				<img class="logo d-inline-block" src="./img/ico/logo.png" style="height: 40px"><span class="d-md-inline me-1">·</span>
				<div class="logo d-inline-block space" style="white-space:nowrap;">中原铁道<span class="d-inline d-md-none"><br></span>(数字)博物馆</div>
			</div>
		</a>

		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		
		<div class="collapse navbar-collapse" id="navbarNavDropdown" style="justify-content:flex-end;">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="./virtualtour"><span>漫游</span><span class="subtext ms-2">Virtual Tour</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="./depot"><span>车辆</span><span class="subtext ms-2">Depot</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="./architecture"><span>建筑</span><span class="subtext ms-2">Architecture</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="./life"><span>生活</span><span class="subtext ms-2">Life</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="./history"><span>历史</span><span class="subtext ms-2">History</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="./research"><span>研究</span><span class="subtext ms-2">Research</span></a>
				</li>
			</ul>
		</div>
		</div>
	</nav>

	<div class="container">
		<div class="row" id="maincont">
			<div class="col-12">
				<div class="row">
				<div class="col-12 mt-5 pt-3">
					<div class="alert alert-danger" style="text-align: center;">
						<a href="#"><b>2021.1</b> · 数字博物馆一期更新日志 ›</a>
					</div>
				</div>
				<div class="col-lg-8 col-12 mt-3">
					<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
						<div class="carousel-indicators">
							<button type="button" data-bs-target="#carouselExampleIndicators" v-for="(item,index) in jumboItems" :data-bs-slide-to="index" :class="{active:item.isActive}"></button>
						</div>
						<div class="carousel-inner">
							<div class="carousel-item " v-for="item in jumboItems" :class="{active:item.isActive}">
								<a :href="item.link">
									<div :style="{'background':'linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0),rgba(0,0,0,0.8)),url(' + item.jumboImg + ')', 'margin-bottom':0}" class="jumbotron jumbotron-fluid transdiv">
									</div>
									<div class="carousel-caption">
										<h5>{{item.title}}</h5>
										<p>{{item.subTitle}}</p>
									</div>
								</a>
							</div>
						</div>
						
						<button class="carousel-control-prev d-none d-md-flex" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">上一个</span>
						</button>
						<button class="carousel-control-next d-none d-md-flex" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">下一个</span>
						</button>
					</div>
				</div>

				<div class="col-lg-4 col-12 mt-3">
					<h5>序言 <span class="ms-2 subtext">Preface</span></h5>
					<h3 class="colored bold">{{intro.title}}</h3>
					<br>
					<p v-html="intro.text"></p>
				</div>
				</div>
			</div>

			<div class="col-12">
				<div id="topics" class="mt-3">
					<br>
					<h2 class="d-inline-block bold">漫游</h2><h5 class="ms-2 subtext d-inline-block">Virtual Tour</h5>
					<div class="row" id="hallA">
						<div class="col-6 col-md-3" v-for="(tour,index) in tours" :key="index">
							<a :href="tour.link">
							<div class="card text-white bg-dark mt-3">
								<img class="card-img" :src="tour.bgImg" style="opacity: 0.6">
								<div class="card-img-overlay">
									<p class="badge bg-light text-dark home">{{tour.badge}}</p>
									<h4 class="home">{{tour.title}}</h4>
								</div>
							</div>
							</a>
						</div>
					</div>
				</div>
					
				<div id="specials" class="mt-3">
					<br>
					<h2 class="d-inline-block bold">特别策划</h2><h5 class="ms-2 subtext d-inline-block">Specials</h5>
					<div class="row" id="hallB">
						<div class="col-6 col-md-3" v-for="(stopic,index) in specials" :key="index">
							<a :href="stopic.link">
							<div class="card text-white bg-dark mt-3">
								<img class="card-img" :src="stopic.bgImg" style="opacity: 0.6">
								<div class="card-img-overlay">
									<p class="badge bg-primary home">{{stopic.badge}}</p>
									<h4 class="home">{{stopic.title}}</h4>
								</div>
							</div>
							</a>
						</div>
					</div>
				</div>
				
				<div id="category" class="mt-3">
					<br>
					<h2 class="d-inline-block bold">分类</h2><h5 class="ms-2 subtext d-inline-block">Categories</h5>
					<br>
					<div class="row" id="hallC">
						<div class="col-6 col-md-2 mt-3" v-for="(ctopic,index) in categories" :key="index">
							<a :href="ctopic.link">
							<div class="card text-black-50">
								<img class="card-img" :src="ctopic.bgImg" style="opacity: 0.6">
								<div class="card-img-overlay">
									<h3 class="home">{{ctopic.title}}</h3>
								</div>
							</div>
							</a>
						</div>
					</div>

				</div>
				
				<div id="arti" class="mt-3">
					<br>
					<h2 class="d-inline-block bold">特色条目</h2><h5 class="ms-2 subtext d-inline-block">Selected</h5>
					<br>
					<div class="row" id="cont">
						<div class="col-12 col-md-4" v-for="(article,index) in arti" :key="index">
							<a :href="article.addr">
							<div class="card">
								<img class="card-img-top" :src="article.cover">
								<div class="card-body">
									<h5 class="card-title home" :title="article.title">{{article.title}}</h5>
									<p class="card-text home">{{article.subtitle}}</p>
									<p class="card-text home"><img :src="article.avatar" class="me-3" style="width: 30px;border-radius:100%"><span>{{article.author}}</span> · <small>{{article.date}}</small></p>
								</div>
							</div>
							</a>
						</div>
					</div>
				</div>				
			</div>

			<div class="col-12 mt-5 mb-4">
				<div class="row">
					<div class="col-12 col-md-6 mt-3">
						<h4 class="d-inline-block bold">联系我们</h4><h5 class="ms-2 subtext d-inline-block">Contact Us</h5>
						<p class="mt-2 mb-0">LJR交通美学研究所 · QQ群 <code>325616319</code></p>
						<p class="mt-2">投稿 · 联系请至 <code>LJRstudio@aliyun.com</code></p>
					</div>
				
					<div class="col-12 col-md-6 mt-3 right center">
						<!-- <img class="mb-3" src="./img/ico/LJR.svg" width="80px"> -->
						<img class="mb-3" src="./img/ico/10th.svg" style="height:58px;max-width: 100%;">
						<p class="mb-1"><small><span class="nowrap">© LJR / The Charm of Transport</span><span class="d-none d-md-inline me-3"></span>
							<span class="nowrap">© A Project by <a href="https://github.com/Toocheer">Toocheer ›</a> </span></small></p>
						<small><code>未经许可，禁止转载</code></small>
					</div>
				</div>
			</div>
		</div>
	</div>

</div>
</body>

<script src="https://cdn.bootcdn.net/ajax/libs/vue/3.1.5/vue.global.prod.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>
<script src="./js/utils.js"></script>
<script>
const app = Vue.createApp({
	data(){
		return{
			intro: [],
			arti: [],
			jumboItems: [],
			tours: [],
			specials: [],
			categories: []
		}
	},
	created(){
		document.title = '中原铁道(数字)博物馆';
	},
	mounted(){
		axios
		.get('./docs/index.json')
		.then(response => {
			this.intro = response.data.intro
			this.arti = response.data.arti
			this.jumboItems = response.data.jumboItems
			this.tours = response.data.tours
			this.specials = response.data.specials
			this.categories = response.data.categories
		})
	}
})

app.mount('#app');
</script>
</html>
